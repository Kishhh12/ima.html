            await new Promise(resolve => setTimeout(resolve, 3000));

            // Fake generated image URL (replace with real API response)
            const generatedImageUrl = `https://via.placeholder.com/512?text=${encodeURIComponent(prompt)}`;

            // Hide loading state and show generated image
            loadingSpinner.style.display = 'none';
            generatedImage.src = generatedImageUrl;
            generatedImage.style.display = 'block';
            generatedImage.classList.add('fade-in');

            // Enable action buttons
            downloadBtn.disabled = false;
            shareBtn.disabled = false;
            regenerateBtn.disabled = false;
            generateBtn.disabled = false;
            generateBtn.innerHTML = '<i class="fas fa-magic"></i> Generate';
        }

        // Event listener for generate button
        generateBtn.addEventListener('click', () => {
            const prompt = promptInput.value.trim();
            const style = styleSelect.value;
            const size = sizeSelect.value;
            const quality = qualitySelect.value;

            if (!prompt) {
                alert('Please enter a description to generate an image.');
                return;
            }

            generateAIImage(prompt, style, size, quality);
        });

        // Event listener for regenerate button
        regenerateBtn.addEventListener('click', () => {
            generateBtn.click();
        });

        // Event listener for download button
        downloadBtn.addEventListener('click', () => {
            const link = document.createElement('a');
            link.href = generatedImage.src;
            link.download = 'generated-ai-image.png';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        });

        // Event listener for share button
        shareBtn.addEventListener('click', async () => {
            if (navigator.share) {
                try {
                    await navigator.share({
                        title: 'Check out my AI-generated art!',
                        text: `Here's an AI-generated image based on: "${promptInput.value}"`,
                        url: generatedImage.src
                    });
                } catch (error) {
                    console.error('Error sharing:', error);
                }
            } else {
                alert('Sharing is not supported on this browser.');
            }
        });

        // Load gallery on page load
        document.addEventListener('DOMContentLoaded', loadGallery);
    </script>
</body>
</html>
